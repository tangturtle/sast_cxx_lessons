# AI Agent ä¸ MCP å¿«é€Ÿå‚è€ƒæŒ‡å—

## ğŸ“Š æ–‡æ¡£ç»Ÿè®¡

- ğŸ“„ æ–‡æ¡£æ€»è¡Œæ•°ï¼š**1,322 è¡Œ**
- ğŸ“Š Mermaid å›¾è¡¨ï¼š**9 ä¸ª**
- ğŸ’» ä»£ç å—ï¼š**106 ä¸ª**ï¼ˆå…¨éƒ¨å¸¦è¯­è¨€æ ‡è¯†ç¬¦ï¼‰
- ğŸ“š ç¤ºä¾‹æ•°é‡ï¼š**4 ä¸ª**

## ğŸ—ºï¸ æ–‡æ¡£å¯¼èˆª

### æ ¸å¿ƒç« èŠ‚

| ç« èŠ‚ | è¡Œå·èŒƒå›´ | å†…å®¹ |
|------|---------|------|
| API ç‰ˆæœ¬è¯´æ˜ | 16-59 | LangChain v1.0 API è¿ç§»è¯´æ˜å’Œå¯¹æ¯”å›¾ |
| ç¤ºä¾‹ 1 | 140-257 | MCP Calendar Server åŸºç¡€ |
| ç¤ºä¾‹ 2 | 259-457 | LangChain Agent åŸºç¡€ |
| ç¤ºä¾‹ 3 | 459-705 | Code Agent ä»»åŠ¡è§„åˆ’ |
| ç¤ºä¾‹ 4 | 707-1093 | FastMCP + LangChain é›†æˆ |
| å­¦ä¹ è·¯å¾„ | 1095-1206 | åˆ†é˜¶æ®µå­¦ä¹ è®¡åˆ’å’Œæ—¶é—´çº¿ |
| FAQ | 1208-1275 | å¸¸è§é—®é¢˜è§£ç­” |

## ğŸ¨ Mermaid å›¾è¡¨ç´¢å¼•

### 1. API è¿ç§»å¯¹æ¯”å›¾
- **ä½ç½®**ï¼šç¬¬ 23-47 è¡Œ
- **ç±»å‹**ï¼šæµç¨‹å›¾ (graph LR)
- **ç”¨é€”**ï¼šå¯¹æ¯”æ—§ API vs æ–° API

### 2. ç¤ºä¾‹ 1 - MCP Server æ¶æ„
- **ä½ç½®**ï¼šç¬¬ 152-176 è¡Œ
- **ç±»å‹**ï¼šæµç¨‹å›¾ (graph TB)
- **ç”¨é€”**ï¼šå±•ç¤º MCP Server æ¶æ„å’Œé€šä¿¡æµç¨‹

### 3. ç¤ºä¾‹ 2 - Agent æ¶æ„
- **ä½ç½®**ï¼šç¬¬ 270-293 è¡Œ
- **ç±»å‹**ï¼šæµç¨‹å›¾ (graph TB)
- **ç”¨é€”**ï¼šå±•ç¤º LangChain Agent æ ¸å¿ƒç»„ä»¶

### 4. ç¤ºä¾‹ 2 - ReAct æ‰§è¡Œæµç¨‹
- **ä½ç½®**ï¼šç¬¬ 297-325 è¡Œ
- **ç±»å‹**ï¼šåºåˆ—å›¾ (sequenceDiagram)
- **ç”¨é€”**ï¼šå±•ç¤º ReAct å¾ªç¯çš„è¯¦ç»†æ‰§è¡Œæµç¨‹

### 5. ç¤ºä¾‹ 3 - ç³»ç»Ÿæ¶æ„
- **ä½ç½®**ï¼šç¬¬ 470-500 è¡Œ
- **ç±»å‹**ï¼šæµç¨‹å›¾ (graph TB)
- **ç”¨é€”**ï¼šå±•ç¤º Code Agent ç³»ç»Ÿæ¶æ„

### 6. ç¤ºä¾‹ 3 - ä»»åŠ¡æ‰§è¡Œæµç¨‹
- **ä½ç½®**ï¼šç¬¬ 504-539 è¡Œ
- **ç±»å‹**ï¼šåºåˆ—å›¾ (sequenceDiagram)
- **ç”¨é€”**ï¼šå±•ç¤ºä»»åŠ¡è§„åˆ’å’Œæ‰§è¡Œæµç¨‹

### 7. ç¤ºä¾‹ 4 - åŒå±‚æ¶æ„
- **ä½ç½®**ï¼šç¬¬ 806-841 è¡Œ
- **ç±»å‹**ï¼šæµç¨‹å›¾ (graph TB)
- **ç”¨é€”**ï¼šå±•ç¤º MCP + LangChain åŒå±‚æ¶æ„

### 8. ç¤ºä¾‹ 4 - äº¤äº’åºåˆ—
- **ä½ç½®**ï¼šç¬¬ 845-882 è¡Œ
- **ç±»å‹**ï¼šåºåˆ—å›¾ (sequenceDiagram)
- **ç”¨é€”**ï¼šå±•ç¤ºå®Œæ•´çš„è¯·æ±‚å¤„ç†æµç¨‹

### 9. å­¦ä¹ è·¯å¾„æ—¶é—´çº¿
- **ä½ç½®**ï¼šç¬¬ 1099-1143 è¡Œ
- **ç±»å‹**ï¼šæ—¶é—´çº¿ (timeline)
- **ç”¨é€”**ï¼šå±•ç¤ºåˆ†é˜¶æ®µå­¦ä¹ è·¯å¾„

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–
pip install fastmcp langchain langchain-openai langgraph

# è®¾ç½® API å¯†é’¥ï¼ˆWindowsï¼‰
set OPENAI_API_KEY=sk-your-key-here

# è®¾ç½® API å¯†é’¥ï¼ˆLinux/macOSï¼‰
export OPENAI_API_KEY=sk-your-key-here
```

### è¿è¡Œç¤ºä¾‹

```bash
# ç¤ºä¾‹ 1ï¼šMCP Server
python 01_calendar_server.py

# ç¤ºä¾‹ 2ï¼šLangChain Agent
python 02_langchain_basic_agent.py

# ç¤ºä¾‹ 3ï¼šCode Agent
python 03_code_agent_with_planning.py

# ç¤ºä¾‹ 4ï¼šé›†æˆç¤ºä¾‹
python 04_integrated_mcp_langchain.py
```

## ğŸ“– API é€ŸæŸ¥

### LangChain v1.0 æ–° API

#### åˆ›å»º Agent

```python
from langchain.agents import create_agent
from langgraph.checkpoint.memory import InMemorySaver

# é…ç½®
llm = ChatOpenAI(model="gpt-4o-mini", temperature=0)
checkpointer = InMemorySaver()
system_prompt = "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„åŠ©æ‰‹..."

# åˆ›å»º Agent
agent = create_agent(
    model=llm,
    tools=tools,
    system_prompt=system_prompt,
    checkpointer=checkpointer,
)
```

#### è°ƒç”¨ Agent

```python
# é…ç½®ä¼šè¯
config = {"configurable": {"thread_id": "1"}}

# å‘é€è¯·æ±‚
response = agent.invoke({
    "messages": [{"role": "user", "content": "ç”¨æˆ·è¯·æ±‚"}]
}, config)
```

### æ—§ APIï¼ˆå·²å¼ƒç”¨ï¼‰

```python
# âŒ ä¸è¦ä½¿ç”¨
from langchain.agents import create_react_agent, AgentExecutor
from langchain.memory import ConversationBufferMemory

memory = ConversationBufferMemory(return_messages=True)
agent = create_react_agent(llm=llm, tools=tools, prompt=prompt)
executor = AgentExecutor(agent=agent, tools=tools, memory=memory)
```

## ğŸ› ï¸ å·¥å…·å®šä¹‰é€ŸæŸ¥

### FastMCP å·¥å…·

```python
from fastmcp import FastMCP

mcp = FastMCP("server-name")

@mcp.tool()
def my_tool(param: str) -> dict:
    """å·¥å…·æè¿°"""
    return {"result": "success"}
```

### LangChain å·¥å…·

```python
from langchain.tools import tool as lc_tool

@lc_tool
def my_tool(param: str) -> str:
    """å·¥å…·æè¿°"""
    return "result"
```

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µé€ŸæŸ¥

### Agent ç»„ä»¶

| ç»„ä»¶ | æ—§ API | æ–° API | è¯´æ˜ |
|------|--------|--------|------|
| è®°å¿† | ConversationBufferMemory | InMemorySaver | çŠ¶æ€ç®¡ç† |
| æç¤ºè¯ | PromptTemplate | system_prompt | ç³»ç»Ÿæç¤º |
| åˆ›å»º | create_react_agent | create_agent | Agent åˆ›å»º |
| æ‰§è¡Œ | AgentExecutor | Agent.invoke | è°ƒç”¨æ–¹å¼ |
| ä¼šè¯ | - | thread_id | ä¼šè¯æ ‡è¯† |

### ReAct æ¨¡å¼

```text
1. Reasoningï¼ˆæ¨ç†ï¼‰ï¼šæ€è€ƒéœ€è¦åšä»€ä¹ˆ
2. Actingï¼ˆè¡ŒåŠ¨ï¼‰ï¼šè°ƒç”¨å·¥å…·æ‰§è¡Œ
3. Observingï¼ˆè§‚å¯Ÿï¼‰ï¼šæŸ¥çœ‹æ‰§è¡Œç»“æœ
4. å¾ªç¯å¾€å¤ç›´åˆ°å®Œæˆä»»åŠ¡
```

## ğŸ“š å­¦ä¹ è·¯å¾„é€ŸæŸ¥

### ç¬¬ 1-2 å‘¨ï¼šåŸºç¡€å…¥é—¨
- âœ… ç†è§£åŸºæœ¬æ¦‚å¿µ
- âœ… è¿è¡Œç¤ºä¾‹ 1 å’Œ 2
- âœ… æŒæ¡ LangChain v1.0 API

### ç¬¬ 3-4 å‘¨ï¼šè¿›é˜¶å­¦ä¹ 
- âœ… å­¦ä¹ ä»»åŠ¡è§„åˆ’ï¼ˆç¤ºä¾‹ 3ï¼‰
- âœ… ç†è§£åŒå±‚æ¶æ„ï¼ˆç¤ºä¾‹ 4ï¼‰
- âœ… è‡ªå®šä¹‰å¼€å‘

### ç¬¬ 5 å‘¨+ï¼šé«˜çº§å®è·µ
- âœ… æ¶æ„ä¼˜åŒ–
- âœ… ç”Ÿäº§éƒ¨ç½²
- âœ… æŒç»­æ”¹è¿›

## ğŸ” å¸¸è§é—®é¢˜é€ŸæŸ¥

### Q1: ModuleNotFoundError
```bash
pip install fastmcp langchain langchain-openai langgraph
```

### Q2: æ‰¾ä¸åˆ° InMemorySaver
```bash
pip install langgraph
```

### Q3: API å¯†é’¥é”™è¯¯
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo %OPENAI_API_KEY%  # Windows
echo $OPENAI_API_KEY   # Linux/macOS
```

### Q4: æ—§ API é”™è¯¯
- å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
- ä½¿ç”¨æ–° APIï¼ˆcreate_agentï¼‰
- å‚è€ƒæ–‡æ¡£ä¸­çš„ API ç‰ˆæœ¬è¯´æ˜

## ğŸ“Š å›¾è¡¨æŸ¥çœ‹å»ºè®®

### æ”¯æŒ Mermaid çš„å·¥å…·
- âœ… GitHub
- âœ… VS Codeï¼ˆéœ€è¦æ’ä»¶ï¼‰
- âœ… Typora
- âœ… Obsidian
- âœ… GitLab

### VS Code æ’ä»¶æ¨è
```text
- Markdown Preview Mermaid Support
- Mermaid Markdown Syntax Highlighting
```

## ğŸ”— ç›¸å…³èµ„æº

- [LangChain å®˜æ–¹æ–‡æ¡£](https://docs.langchain.com/)
- [LangGraph æ–‡æ¡£](https://langchain-ai.github.io/langgraph/)
- [FastMCP æ–‡æ¡£](https://github.com/jlowin/fastmcp)
- [Mermaid æ–‡æ¡£](https://mermaid.js.org/)

## ğŸ“ æ–‡æ¡£æ›´æ–°æ—¥å¿—

æŸ¥çœ‹ `CHANGELOG.md` äº†è§£è¯¦ç»†çš„æ›´æ–°å†å²ã€‚

æŸ¥çœ‹ `README_IMPROVEMENTS.md` äº†è§£æœ¬æ¬¡æ”¹è¿›çš„è¯¦ç»†è¯´æ˜ã€‚

---

**æç¤º**ï¼šæœ¬å¿«é€Ÿå‚è€ƒæŒ‡å—æä¾›äº†æ–‡æ¡£çš„æ¦‚è§ˆå’Œå¸¸ç”¨ä¿¡æ¯çš„å¿«é€Ÿè®¿é—®ã€‚è¯¦ç»†å†…å®¹è¯·å‚è€ƒ `README.md` ä¸»æ–‡æ¡£ã€‚

